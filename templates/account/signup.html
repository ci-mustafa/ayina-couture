{% extends "account/base_entrance.html" %}
{% load allauth i18n %}

{% block head_title %}
    {% trans "Signup" %}
{% endblock head_title %}

{% block inner_content %}
<hr>
<h2 class="logo-font mb-4">{% trans "Sign Up" %}</h2>
<hr>

<p>{% blocktrans %}Already have an account? Then please <a href="{{ login_url }}">sign in</a>.{% endblocktrans %}</p>

<form class="signup needs-validation mt-4" id="signup_form" method="post" action="{% url 'account_signup' %}" novalidate>
  {% csrf_token %}

  <!-- Display Non-Field Errors -->
  {% if form.non_field_errors %}
      <div class="alert alert-danger">
          {% for error in form.non_field_errors %}
              <p>{{ error }}</p>
          {% endfor %}
      </div>
  {% endif %}

  <!-- Email -->
  <div class="custom-form-group mb-3">
      <label for="email" class="custom-label">{% trans "Email" %}</label>
      {{ form.email }}
      {% if form.email.errors %}
          <div class="text-danger small">
              {% for error in form.email.errors %}
                  <p>{{ error }}</p>
              {% endfor %}
          </div>
      {% endif %}
  </div>

  <!-- Email (again) -->
  <div class="custom-form-group mb-3">
      <label for="email2" class="custom-label">{% trans "Email (again)" %}</label>
      {{ form.email2 }}
      {% if form.email2.errors %}
          <div class="text-danger small">
              {% for error in form.email2.errors %}
                  <p>{{ error }}</p>
              {% endfor %}
          </div>
      {% endif %}
  </div>

  <!-- Username -->
  <div class="custom-form-group mb-3">
      <label for="username" class="custom-label">{% trans "Username" %}</label>
      {{ form.username }}
      {% if form.username.errors %}
          <div class="text-danger small">
              {% for error in form.username.errors %}
                  <p>{{ error }}</p>
              {% endfor %}
          </div>
      {% endif %}
  </div>

  <!-- Password -->
  <div class="custom-form-group mb-3">
      <label for="password1" class="custom-label">{% trans "Password" %}</label>
      {{ form.password1 }}
      {% if form.password1.help_text %}
          <small class="form-text text-muted">{{ form.password1.help_text }}</small>
      {% endif %}
      {% if form.password1.errors %}
          <div class="text-danger small">
              {% for error in form.password1.errors %}
                  <p>{{ error }}</p>
              {% endfor %}
          </div>
      {% endif %}
  </div>

  <!-- Password (again) -->
  <div class="custom-form-group mb-3">
      <label for="password2" class="custom-label">{% trans "Password (again)" %}</label>
      {{ form.password2 }}
      {% if form.password2.errors %}
          <div class="text-danger small">
              {% for error in form.password2.errors %}
                  <p>{{ error }}</p>
              {% endfor %}
          </div>
      {% endif %}
  </div>

  {% if redirect_field_value %}
      <input type="hidden" name="{{ redirect_field_name }}" value="{{ redirect_field_value }}" />
  {% endif %}

  <button class="btn btn-primary rounded-0 shadow-sm px-4" type="submit">
      {% trans "Sign Up" %}
  </button>
</form>

{% endblock %}

